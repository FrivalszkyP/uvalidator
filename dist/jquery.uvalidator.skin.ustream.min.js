!function(i){"use strict";function t(i){return"function"==typeof i}function n(i){return Array.prototype.slice.call(i)}function r(t,r){r=i.extend(!0,{},o,r);var e=function(){};e.prototype=r,a[t]=function(){var t=new e;return t.superclass={},i.each(o,function(i,r){t.superclass[i]=function(){return r.apply(t,n(arguments))}}),t}}function e(i,t,n){var r=new a[i];return r.setForm(t,n)}var o,a={},s={},l=i.uvalidator.events;o={setForm:function(t,n){function r(t){var n=i.makeArray(arguments).slice(1);e.trigger(t,n)}var e=i(this);return this.form=t,n=n||{},t.uvalidator(n).on(l.FORM_INVALID,i.proxy(this.onFormInvalid,this)).on(l.FORM_VALID,i.proxy(this.onFormValid,this)).on(l.FIELD_INVALID,i.proxy(this.onFieldInvalid,this)).on(l.FIELD_VALID,i.proxy(this.onFieldValid,this)).on(l.START_FIELD_VALIDATION,i.proxy(this.onFieldValidationStart,this)).on(l.FINISH_FIELD_VALIDATION,i.proxy(this.onFieldValidationFinish,this)).on(l.START_FORM_VALIDATION,i.proxy(this.onFormValidationStart,this)).on(l.FINISH_FORM_VALIDATION,i.proxy(this.onFormValidationFinish,this)).on(l.FORM_VALID,i.proxy(this.resetResults,this)).on(l.FORM_VALID,r).on(l.FORM_INVALID,r).on(l.FIELD_INVALID,r).on(l.FIELD_VALID,r).on(l.START_FIELD_VALIDATION,r).on(l.FINISH_FIELD_VALIDATION,r).on(l.START_FORM_VALIDATION,r).on(l.FINISH_FORM_VALIDATION,r),this},on:function(){var t=i(this);return t.on.apply(t,n(arguments)),this},resetResults:function(){return this.results={},this},applyErrors:function(t){var n=this.form,r={};return i.each(t,function(i,t){var e,o=n.find('[name="'+i+'"]');e={field:o,message:t&&t.text?t.text:t,isValid:!1},o.trigger(l.FIELD_INVALID,e),r[i]=e}),this.form.trigger(l.FORM_INVALID,{results:r,errors:r}),this.results=r,this},getMessage:function(i){var n=null;return i.message?n=i.message:(n=s[i.validator],t(n)&&(n=n(i))),n},hideAllError:function(){this.form.find(":input").each(i.proxy(function(i,t){this.setFieldValid(t),this.hideFieldError(t)},this))},onFieldValid:function(i,t){this.setFieldValid(i.target,t),this.hideFieldError(i.target,t)},onFieldInvalid:function(i,t){this.setFieldInvalid(i.target,t),this.showFieldError(i.target,t)},showFieldError:function(){},setFieldInvalid:function(){},setFieldValid:function(){},hideFieldError:function(){},onFieldValidationStart:function(){},onFieldValidationFinish:function(){},onFormValidationStart:function(){},onFormValidationFinish:function(){},onFormValid:function(){},onFormInvalid:function(){}},i.uvalidatorSkin=r,i.uvalidatorApplySkin=e,i.uvalidatorSkin.addMessage=function(i,t){s[i]=t},i.uvalidatorSkin.addMessages=function(i){var t,n,r;for(n=0,t=i.length;t>n;n+=1)r=i[n],s[r[0]]=r[1]},i.uvalidatorSkin.format=function(){var i=Array.prototype.slice.call(arguments),t=i.shift();return t.replace(/\{[0-9]+\}/g,function(t){var n=i[t.slice(1,t.indexOf("}"))];return"undefined"==typeof n&&(n=t),n})}}(window.jQuery),function(i){"use strict";function t(t){var n=t.nodeName;return t=i(t),"SELECT"===n&&(t=t.closest(".control-select")),t}i.uvalidatorSkin("ustream",{validatorEventMap:{START_REMOTE_VALIDATION:"onRemoteValidationStart",FINISH_REMOTE_VALIDATION:"onRemoteValidationFinish"},options:{focusOnFormInvalid:!0,inputInvalidClassName:"input-invalid",inputValidClassName:"input-valid",errorMessageClassName:"tooltip-error",errorIDprefix:"error-"},setForm:function(t,n){return this.superclass.setForm(t,n),this.form.delegate(':input:not(".liveValidation")',"keyup",i.proxy(function(t){-1===i.inArray(t.keyCode,[9,13,16])&&i(t.target).removeClass(this.options.inputInvalidClassName)},this)),this},setFieldInvalid:function(i){var n=this.options;i=t(i),i.addClass(n.inputInvalidClassName).removeClass(n.inputValidClassName).attr("aria-invalid","true")},setFieldValid:function(i){var n=this.options;i=t(i),i.addClass(n.inputValidClassName).removeClass(n.inputInvalidClassName).attr("aria-invalid","false")},unsetValidatorState:function(i){var n=this.options;i=t(i),i.removeClass(n.inputValidClassName+" "+n.inputInvalidClassName),this.hideFieldError(i)},addFieldError:function(t,n){var r,e,o,a,s,l=this.getMessage(n),d=this.options;o=n.field,e=o.closest(".control-group"),r=e.find(">.control-select"),r.length>0&&(e=r),a=e.find("."+d.errorMessageClassName),a.length<1&&(s=d.errorIDprefix+o.attr("id")+"-"+Math.ceil(1e4*Math.random()),a=i("<span />").addClass(d.errorMessageClassName).attr("id",s),o.attr("aria-describedBy",s),"SELECT"===o[0].nodeName?o.next("span.select").after(a):o.hasClass("page-checkbox")?o.next("label").after(a):o.hasClass("page-radio")?o.last().next("label").after(a):o.after(a)),a.html(l)},showFieldError:function(i,t){this.addFieldError(i,t)},hideFieldError:function(t){i(t).removeAttr("aria-describedBy").closest(".control-group").find("."+this.options.errorMessageClassName).remove()},onFormInvalid:function(){if(this.options.focusOnFormInvalid){var i=this.options.inputInvalidClassName;this.form.find(":input."+i+",.control-select."+i+" > select").first().focus()}}})}(window.jQuery);