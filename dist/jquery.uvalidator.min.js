!function(a){"use strict";function b(a){return a.is(":checkbox,:radio")?a.is(":checked"):a.val()}function c(b){var c,d;return c=b.attr("data-validator-group"),d=b[0].form?a(b[0].form):b.closest("form"),d.find('[data-validator-group="'+c+'"]:not(:disabled)')}function d(a,b,c,d,e,f){var g=m.getValidatorByName(c,e);g?g.fn.call(f,a,b,d):d(!0)}function e(c,d,e,f){function g(a){var b={isValid:o,isGroup:e,validator:a.name,field:c};r=!0,c.trigger(l.FINISH_FIELD_VALIDATION,c),d(b,c)}function h(a,b,c){r||(p+=1,q+=1,o=o&&a,k>q&&o?c():g(b))}function i(a,b){return function(c){h(c,a,b)}}function j(){for(var a;k>p&&o;)a=m.getValidatorByIndex(p,e),c.is(a.selector)?a.fn.call(f,n,c,i(a,j)):(q+=1,q>=k&&g(a)),p+=1}var k,n,o,p,q,r;c=a(c),p=0,q=0,o=!0,r=!1,k=m.len(e),e||(n=b(c)),c.trigger(l.START_FIELD_VALIDATION,c),j()}function f(a,b){a.isValid?b.trigger(l.FIELD_VALID,a):b.trigger(l.FIELD_INVALID,a)}function g(a){var b,c=!0;return"keyup"===a.type&&(b=a.which,(9===b||16===b||17===b||18===b)&&(c=!1)),c}function h(b){function d(c,d){g=g&&c.isValid,f.push({field:d,isValid:c.isValid,validator:c.validator,isGroup:!1}),c.isValid?d.trigger(l.FIELD_VALID,c):d.trigger(l.FIELD_INVALID,c),f.length>=h.length+k&&(b.trigger(l.FINISH_FORM_VALIDATION,b),g?b.trigger(l.FORM_VALID,{results:f}):b.trigger(l.FORM_INVALID,{results:f,errors:a.makeArray(a(f).filter(function(a,b){return!b.isValid}))}))}var f,g,h,i,j,k;h=b.find(":input").not(".skip-validation,:disabled"),i=h.filter("[data-validator-group]"),h=h.not("[data-validator-group],:button,:submit"),j={},k=0,i.each(function(){var b=a(this),d=b.attr("data-validator-group");j[d]||(j[d]=c(b),k+=1)}),f=[],g=!0,b.trigger(l.START_FORM_VALIDATION,b),h.each(function(){e(this,d,!1,b)}),a.each(j,function(a,c){e(c,d,!0,b)})}function i(b,d){b=a(b),b.attr("novalidate","novalidate"),a.each(d.validationEvents,function(d,h){h&&(b.delegate(":input:not(:button,:submit,[data-validator-group],.skip-validation)",d,function(a){g(a)&&e(a.target,f,!1,b)}),b.delegate(":input[data-validator-group]",d,function(d){if(g(d)){var h,i=a(d.target);h=c(i),e(h,f,!0,b)}}))}),b.submit(function(a){a.preventDefault(),h(b)})}function j(b){var c=a.extend({},k,b);return this.each(function(){i(this,c)})}var k,l,m;k={validationEvents:{focusout:!1,focusin:!1,change:!0,keyup:!0,click:!1,submit:!0}},l={FIELD_VALID:"fieldValid",FIELD_INVALID:"fieldInvalid",FORM_VALID:"formValid",FORM_INVALID:"formInvalid",FINISH_FORM_VALIDATION:"finishFormValidation",START_FORM_VALIDATION:"startFormValidation",FINISH_FIELD_VALIDATION:"finishFieldValidation",START_FIELD_VALIDATION:"startFieldValidation"},m=function(){var a=[],b={},c=[],d={};return{createValidator:function(a,b,c,d){return{fn:c,name:b,selector:a,isGroup:d}},getValidatorByIndex:function(b,d){return d?c[b]:a[b]},getValidatorIndexByName:function(a,c){var e=-1,f=c?d:b;return"number"==typeof f[a]&&(e=f[a]),e},getValidatorByName:function(b,d){var e=m.getValidatorIndexByName(b,d),f=null;return e>-1&&(f=d?c[e]:a[e]),f},addValidatorMethod:function(c,d,e){var f,g,h;f=m.getValidatorIndexByName(d,!1),g=f>-1?f:a.length,h=m.createValidator(c,d,e,!1),b[d]=g,a[g]=h},addValidatorGroupMethod:function(a,b,e){var f,g,h;f=m.getValidatorIndexByName(b,!0),g=f>-1?f:c.length,h=m.createValidator(a,b,e,!0),d[b]=g,c[g]=h},len:function(b){return b?c.length:a.length}}}(),a.uvalidator={addMethod:m.addValidatorMethod,addGroupMethod:m.addValidatorGroupMethod,events:l,fieldIsValid:function(b,d,f,g){var h;b=a(b),f=a.extend({},k,f),h=b.is("[data-validator-group]"),h&&(b=c(b)),e(b,d,h,g)},validateField:function(b,c,d,e){a.uvalidator.fieldIsValid(b,function(a,b){return f(a,b),c&&c(a,b)},d,e)},validateWith:function(a,c,e,f){var g=a.is("[data-validator-group]");d(b(a),a,c,e,g,f)},validate:function(b){h(a(b))}},a.fn.uvalidator=j}(window.jQuery);